(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4044b1b0"],{"0251":function(e,t,o){"use strict";var r=o("dd7b"),s=o.n(r);s.a},dd7b:function(e,t,o){},ede4:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"login"}},[o("h3",[e._v("我是登录页面")]),o("el-form",{ref:"loginForm",staticClass:"login",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{attrs:{placeholder:"请输入邮箱",autocomplete:"off"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"psw"}},[o("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.loginForm.psw,callback:function(t){e.$set(e.loginForm,"psw",t)},expression:"loginForm.psw"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登录")])],1),o("h4",[e._v("没有账号就去 "),o("router-link",{attrs:{to:"/register"}},[e._v("注册")]),e._v(" 吧 ")],1)],1)],1)},s=[],i=o("1bab"),l=o("8235"),a=o.n(l),n={name:"register",data:function(){return{loginForm:{email:"",psw:""},rules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:["blur","change"]}],psw:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在6至18个字符"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(i["a"])({method:"post",url:"/api/user/login",data:t.loginForm}).then((function(e){t.$message({message:"登录成功",type:"success"});var o=e.data.token,r=!!o,s=a()(o);t.$store.dispatch("setHasAuthority",r),t.$store.dispatch("setItem",s),localStorage.setItem("token",o),t.$router.push("/index")})).catch((function(e){t.$message({message:"登录失败",type:"error"}),console.log("请求失败",e)}))}))}},component:{}},m=n,u=(o("0251"),o("2877")),c=Object(u["a"])(m,r,s,!1,null,"2d775339",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-4044b1b0.ed4117ee.js.map